<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Pamela Franco</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="form-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
        <p class="loading-text">Carregando...</p>
    </div>
    
    <!-- V칤deo de fundo -->
    <video autoplay muted loop playsinline class="background-video video-1 active">
        <source src="videocompleto.mp4" type="video/mp4">
    </video>
    
    <div class="form-container">
        <div class="form-card">
            <!-- Logo -->
            <div class="logo-container">
                <img src="./imagemPerfil.jpeg" alt="Pamela Franco - Educadora F칤sica" class="logo">
            </div>
            
            <h1 class="form-title">Fa칞a Parte do Meu Time</h1>
            <p class="form-subtitle">Preencha seus dados para que eu possa entrar em contato e te registrar no aplicativo. Vamos iniciar sua jornada de transforma칞칚o! 游밼</p>
            
            <form id="appForm" class="training-form">
                <!-- Nome -->
                <div class="form-group">
                    <label for="name">Nome Completo *</label>
                    <input type="text" id="name" name="name" required placeholder="Digite seu nome completo">
                </div>
                
                <!-- Email -->
                <div class="form-group">
                    <label for="email">E-mail *</label>
                    <input type="email" id="email" name="email" required placeholder="seuemail@exemplo.com">
                </div>
                
                <!-- Telefone -->
                <div class="form-group">
                    <label for="phone">Telefone *</label>
                    <input type="tel" id="phone" name="phone" required placeholder="(00) 00000-0000">
                </div>
                
                <!-- Data de Nascimento -->
                <div class="form-group">
                    <label for="birthdate">Data de Nascimento *</label>
                    <input type="date" id="birthdate" name="birthdate" required>
                </div>
                
                <button type="submit" class="submit-button">
                    <i class="fas fa-check-circle"></i>
                    <span>Quero fazer parte do time!</span>
                </button>
                
                <a href="aplicativo.html" class="back-link">
                    <i class="fas fa-arrow-left"></i> Voltar
                </a>
            </form>
            
            <!-- Formul치rio oculto para envio de email -->
            <form id="hiddenEmailForm" action="https://formsubmit.co/pamela__franco_@hotmail.com" method="POST" style="display:none;">
                <input type="hidden" name="_subject" value="游꿢 Novo Cadastro - Aplicativo Pamela Franco">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_next" value="https://pamelafrancopersonal.vercel.app/confirmacao-app.html">
                <input type="text" name="Nome" id="hiddenName">
                <input type="email" name="E-mail" id="hiddenEmail">
                <input type="text" name="Telefone" id="hiddenPhone">
                <input type="text" name="Data de Nascimento" id="hiddenBirthdate">
            </form>
        </div>
    </div>
    
    <script>        // Esconde loading screen quando tudo estiver carregado
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
            }, 500);
        });
        
        // Fallback: garante que loading desapare칞a ap칩s 0.5 segundo
        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
        }, 500);
                // Adiciona anima칞칚o suave ao carregar
        document.addEventListener('DOMContentLoaded', function() {
            const card = document.querySelector('.form-card');
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                card.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, 100);
        });
        
        // M치scara de telefone
        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                value = value.replace(/(\d)(\d{4})$/, '$1-$2');
            }
            e.target.value = value;
        });
        
        // Manipula칞칚o do formul치rio
        document.getElementById('appForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Previne m칰ltiplos cliques
            const submitButton = this.querySelector('.submit-button');
            if (submitButton.disabled) return;
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span>Enviando...</span>';
            
            // Captura os dados do formul치rio
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                birthdate: document.getElementById('birthdate').value
            };
            
            // Salva no localStorage
            localStorage.setItem('appFormData', JSON.stringify(formData));
            
            // Formata a data para formato brasileiro
            const birthDate = new Date(formData.birthdate + 'T00:00:00');
            const formattedDate = birthDate.toLocaleDateString('pt-BR');
            
            // Monta mensagem conversacional para WhatsApp
            const whatsappMessage = `Ol치%20Pamela!%20%F0%9F%A4%8D%0A%0A` +
                `Quero%20fazer%20parte%20do%20time%20e%20treinar%20pelo%20seu%20aplicativo!%0A%0A` +
                `Aqui%20est칚o%20meus%20dados%20para%20o%20cadastro:%0A%0A` +
                `*Nome:*%20${encodeURIComponent(formData.name)}%0A` +
                `*E-mail:*%20${encodeURIComponent(formData.email)}%0A` +
                `*Telefone:*%20${encodeURIComponent(formData.phone)}%0A` +
                `*Data%20de%20Nascimento:*%20${formattedDate}%0A%0A` +
                `Podemos%20conversar%20sobre%20o%20pr칩ximo%20passo?%20%F0%9F%92%AA`;
            
            // Preenche formul치rio oculto para envio de email
            document.getElementById('hiddenName').value = formData.name;
            document.getElementById('hiddenEmail').value = formData.email;
            document.getElementById('hiddenPhone').value = formData.phone;
            document.getElementById('hiddenBirthdate').value = formattedDate;
            
            // Abre WhatsApp em nova aba
            const whatsappURL = `https://wa.me/5544992267665?text=${whatsappMessage}`;
            window.open(whatsappURL, '_blank');
            
            // Envia o formul치rio oculto para o email
            document.getElementById('hiddenEmailForm').submit();
        });
    </script>
</body>
</html>
